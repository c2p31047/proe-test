{% extends "base.html" %}

{% block title %}備蓄の追加{% endblock %}

{% block content %}
    <div class="container">
        <h1>備蓄の追加（緊急指定避難所のみ）</h1>

        {% for category, message in get_flashed_messages(with_categories=true) %}
            <div class="flash-message {{ category }}">{{ message }}</div>
        {% endfor %}

        <form action="{{ url_for('stock.add_stock') }}" method="POST">
            <div class="form-group">
                <label for="shelter_id">避難所</label>
                <select name="shelter_id" id="shelter_id" class="form-control">
                    {% for shelter in shelters %}
                        <option value="{{ shelter.id }}">{{ shelter.name }}</option>
                    {% endfor %}
                </select>
            </div>

            <div class="form-group">
                <label for="category_id">カテゴリー</label>
                <select name="category_id" id="category_id" class="form-control">
                    <option value="">カテゴリーを選択してください</option>
                    {% for category in categories %}
                        <option value="{{ category.id }}">{{ category.category }}</option>
                    {% endfor %}
                </select>
            </div>

            <div class="form-group">
                <label for="stockname">品名</label>
                <input type="text" name="stockname" id="stockname" class="form-control" required>
            </div>

            <div class="form-group">
                <label for="quantity">数量</label>
                <input type="number" name="quantity" id="quantity" class="form-control" required>
            </div>

            <div class="form-group">
                <label for="unit">単位</label>
                <input type="text" name="unit" id="unit" class="form-control" required>
            </div>

            <div class="form-group">
                <label for="location">場所</label>
                <input type="text" name="location" id="location" class="form-control" required>
            </div>

            <div class="form-group">
                <label for="note">メモ</label>
                <textarea name="note" id="note" class="form-control"></textarea>
            </div>

            <div class="form-group">
                <label for="expiration">賞味期限</label>
                <input type="date" name="expiration" id="expiration" class="form-control" required>
            </div>

            <div class="form-group">
                <label for="condition">状態</label>
                <textarea name="condition" id="condition" class="form-control"></textarea>
            </div>

            <button type="submit" class="btn btn-primary">追加</button>
        </form>
    </div>
{% endblock %}